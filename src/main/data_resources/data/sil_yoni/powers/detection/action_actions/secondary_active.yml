type: origins:multiple
# 枚举
# 0 无动作
# 1 按下1次
# 2 连按2次
# 3 连按3次
# -1 短按（1.5秒）
# -2 长按（4秒）
# -3 持续按住（10秒）
action_active:
   type: origins:resource
   min: -3
   max: 3
   start_value: 0
   hud_render:
      should_render: true
      sprite_location: origins:textures/gui/community/spiderkolo/resource_bar_01.png
      bar_index: 1
action_active_last:
   type: origins:resource
   min: -3
   max: 3
   start_value: 0
   hud_render:
      should_render: true
      sprite_location: origins:textures/gui/community/spiderkolo/resource_bar_01.png
      bar_index: 2
status_recorder:
   type: origins:action_over_time
   interval: 1
   condition:
      type: origins:resource
      resource: "sil_yoni:detection/action_actions/secondary_active_action_active"
      comparison: '!='
      compare_to: 0
   entity_action:
      type: origins:modify_resource
      resource: "sil_yoni:detection/action_actions/secondary_active_action_active_last"
      modifier:
         operation: set_total
         value: -3 # 此值无效
         resource: "sil_yoni:detection/action_actions/secondary_active_action_active"
status_reseter:
   type: origins:action_over_time
   interval: 1
   condition:
      type: origins:resource
      resource: "sil_yoni:detection/action_actions/secondary_active_action_active"
      comparison: '!='
      compare_to: 0
   entity_action:
      type: origins:delay
      ticks: 1
      action:
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_action_active"
         operation: set
         change: 0

active_times:
   type: origins:resource
   min: 0
   max: 3
   start_value: 0
   hud_render:
      should_render: true
      sprite_location: origins:textures/gui/community/spiderkolo/resource_bar_01.png
      bar_index: 10
hold_time:
   type: origins:resource
   min: 0
   max: 200 # 10秒
   start_value: 0
   hud_render:
      should_render: true
      sprite_location: origins:textures/gui/community/spiderkolo/resource_bar_01.png
      bar_index: 11

long_press_previewer:
   type: origins:resource
   min: -3
   max: 0
   start_value: 0
   hud_render:
      inverted: true
      should_render: true
      sprite_location: origins:textures/gui/community/spiderkolo/resource_bar_01.png
      bar_index: 3
deactive_timeout:
   type: origins:resource
   min: 0
   max: 40
   hud_render:
      should_render: true
      sprite_location: origins:textures/gui/community/spiderkolo/resource_bar_01.png
      bar_index: 12
   start_value: 40
   max_action:
      type: origins:and
      actions:
      -
         type: origins:modify_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_action_action_active"
         modifier:
            operation: set_total
            value: -3 # 此值无效
            resource: "sil_yoni:detection/action_actions/secondary_active_long_press_previewer"
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_active_times"
         operation: set
         change: 0
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_hold_time"
         operation: set
         change: 0
deactive_timeout_executor:
   type: origins:action_over_time
   interval: 1
   entity_action:
      type: origins:and
      actions:
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_deactive_timeout"
         operation: add
         change: 1
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_long_press_previewer"
         operation: set
         change: 0
      -
         type: origins:if_else_list
         actions:
         -
            condition:
               type: origins:resource
               resource: "sil_yoni:detection/action_actions/secondary_active_hold_time"
               comparison: '>='
               compare_to: 200 # 10sec
            action:
               type: origins:change_resource
               resource: "sil_yoni:detection/action_actions/secondary_active_long_press_previewer"
               operation: set
               change: -3
         -
            condition:
               type: origins:resource
               resource: "sil_yoni:detection/action_actions/secondary_active_hold_time"
               comparison: '>='
               compare_to: 90 # 4.5sec
            action:
               type: origins:change_resource
               resource: "sil_yoni:detection/action_actions/secondary_active_long_press_previewer"
               operation: set
               change: -2
         -
            condition:
               type: origins:resource
               resource: "sil_yoni:detection/action_actions/secondary_active_hold_time"
               comparison: '>='
               compare_to: 30 # 1.5sec
            action:
               type: origins:change_resource
               resource: "sil_yoni:detection/action_actions/secondary_active_long_press_previewer"
               operation: set
               change: -1

on_press_key_hold:
   type: origins:active_self
   key:
      key: key.origins.secondary_active
      continuous: true
   entity_action:
      type: origins:and
      actions:
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_deactive_timeout"
         operation: set
         change: 0
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_hold_time"
         operation: add
         change: 1
      
active_delay:
   type: origins:resource
   min: 0
   max: 40
   hud_render:
      should_render: true
      sprite_location: origins:textures/gui/community/spiderkolo/resource_bar_01.png
      bar_index: 13
   start_value: 40
   max_action:
      type: origins:if_else
      condition:
         type: origins:and
         conditions:
         -
            type: origins:resource
            resource: "sil_yoni:detection/action_actions/secondary_active_active_times"
            comparison: '!='
            compare_to: 0
         -
            type: origins:resource
            resource: "sil_yoni:detection/action_actions/secondary_active_hold_time"
            comparison: '<'
            compare_to: 20
      if_action:
         type: origins:modify_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_action_active"
         modifier:
            operation: set_total
            value: -3 # 此值无效
            resource: "sil_yoni:detection/action_actions/secondary_active_active_times"
active_timeout_executor:
   type: origins:action_over_time
   interval: 1
   entity_action:
      type: origins:change_resource
      resource: "sil_yoni:detection/action_actions/secondary_active_active_delay"
      operation: add
      change: 1

on_press_key_single:
   type: origins:active_self
   key:
      key: key.origins.secondary_active
      continuous: false
   entity_action:
      type: origins:and
      actions:
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_active_delay"
         operation: set
         change: 0
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_active_times"
         operation: add
         change: 1
      -
         type: origins:change_resource
         resource: "sil_yoni:detection/action_actions/secondary_active_hold_time"
         operation: set
         change: 0
