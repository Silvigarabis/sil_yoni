type: origins:multiple
no_elytra:
    type: origins:prevent_elytra_flight
no_fall_damage:
    type: origins:invulnerability
    damage_condition:
       type: origins:in_tag
       tag: is_fall
fly_lasting_timer:
  type: origins:action_over_time
  interval: 1
  condition:
     type: origins:and
     conditions:
     -
        type: origins:resource
        resource: sil_yoni:freedom_flight/data_fly_lasting
        comparison: ">"
        compare_to: 0
  entity_action:
     type: origins:if_else_list
     actions:
     -
        condition:
           type: origins:on_block
        action:
           type: origins:change_resource
           resource: sil_yoni:freedom_flight/data_fly_lasting
           operation: add
           change: -2
     -
        condition:
           type: origins:moving
           inverted: true
        action:
           type: origins:change_resource
           resource: sil_yoni:freedom_flight/data_fly_lasting
           operation: add
           change: -1
fly_lasting:
    type: origins:resource
    min: 0
    max: 200
    hud_render:
        should_render: true
        bar_index: 3
        condition:
           type: origins:resource
           resource: sil_yoni:freedom_flight/data_fly_lasting
           comparison: ">"
           compare_to: 0
    min_action:
       type: origins:and
       actions:
       -
          type: origins:grant_power
          power: sil_yoni:freedom_flight/slower_falldown
          source: sil_yoni:freedom_flight/data
       -
          type: origins:revoke_power
          power: sil_yoni:freedom_flight/no_falldown
          source: sil_yoni:freedom_flight/data
    max_action:
       -
          type: origins:grant_power
          power: sil_yoni:freedom_flight/no_falldown
          source: sil_yoni:freedom_flight/data
       -
          type: origins:revoke_power
          power: sil_yoni:freedom_flight/slower_falldown
          source: sil_yoni:freedom_flight/data
on_land:
  type: origins:action_over_time
  interval: 20
  condition:
     type: origins:and
     conditions:
     -  type: origins:on_block
     -  type: origins:resource
        resource: sil_yoni:freedom_flight/data_fly_lasting
        comparison: "=="
        compare_to: 0
  entity_action:
     type: origins:and
     actions:
     -
        type: origins:execute_command
        command: say 降落！
     -
        type: origins:change_resource
        resource: sil_yoni:freedom_flight_is_flying
        operation: set
        change: 0
boost_forward:
   type: origins:active_self
   key:
      key: key.forward
      continuous: true
   entity_action:
      type: origins:and
      actions:
      -
         type: origins:change_resource
         resource: sil_yoni:freedom_flight/data_fly_lasting
         operation: set
         change: 200
      -
         type: origins:if_else
         condition:
            type: origins:sprinting
         if_action:
            type: origins:add_velocity
            space: local
            z: 0.09
         else_action:
            type: origins:add_velocity
            space: local
            z: 0.03
go_back:
   type: origins:active_self
   key:
      key: key.back
      continuous: true
   entity_action:
     type: origins:and
     actions:
     -
        type: origins:change_resource
        resource: sil_yoni:freedom_flight/data_fly_lasting
        operation: set
        change: 200
     -
        type: origins:add_velocity
        space: local
        z: -0.03
callbacks:
   type: origins:action_on_callback
   execute_chosen_when_orb: true
   entity_action_gained:
      type: origins:revoke_power
      power: sil_yoni:freedom_flight/no_falldown
      source: sil_yoni:freedom_flight/data
   entity_action_lost:
      type: origins:and
      actions:
      -
         type: origins:revoke_power
         power: sil_yoni:freedom_flight/no_falldown
         source: sil_yoni:freedom_flight/data
      -
         type: origins:revoke_power
         power: sil_yoni:freedom_flight/slower_falldown
         source: sil_yoni:freedom_flight/data
